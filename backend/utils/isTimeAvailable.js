    // build a table for converting times to blocks
    // let counter = 0
    // for (let i=0; i<96; i++) {
    //     while (!(counter % 100 == 0 || counter % 100 == 15 || counter % 100 == 30 || counter % 100 == 45)) {
    //         counter = counter + 1
    //     }
    //     table[String(counter)] = i
    //     counter = counter + 1
    // }
    // console.log(table)

export const timeTable = {
    '0': 0,
    '15': 1,
    '30': 2,
    '45': 3,
    '100': 4,
    '115': 5,
    '130': 6,
    '145': 7,
    '200': 8,
    '215': 9,
    '230': 10,
    '245': 11,
    '300': 12,
    '315': 13,
    '330': 14,
    '345': 15,
    '400': 16,
    '415': 17,
    '430': 18,
    '445': 19,
    '500': 20,
    '515': 21,
    '530': 22,
    '545': 23,
    '600': 24,
    '615': 25,
    '630': 26,
    '645': 27,
    '700': 28,
    '715': 29,
    '730': 30,
    '745': 31,
    '800': 32,
    '815': 33,
    '830': 34,
    '845': 35,
    '900': 36,
    '915': 37,
    '930': 38,
    '945': 39,
    '1000': 40,
    '1015': 41,
    '1030': 42,
    '1045': 43,
    '1100': 44,
    '1115': 45,
    '1130': 46,
    '1145': 47,
    '1200': 48,
    '1215': 49,
    '1230': 50,
    '1245': 51,
    '1300': 52,
    '1315': 53,
    '1330': 54,
    '1345': 55,
    '1400': 56,
    '1415': 57,
    '1430': 58,
    '1445': 59,
    '1500': 60,
    '1515': 61,
    '1530': 62,
    '1545': 63,
    '1600': 64,
    '1615': 65,
    '1630': 66,
    '1645': 67,
    '1700': 68,
    '1715': 69,
    '1730': 70,
    '1745': 71,
    '1800': 72,
    '1815': 73,
    '1830': 74,
    '1845': 75,
    '1900': 76,
    '1915': 77,
    '1930': 78,
    '1945': 79,
    '2000': 80,
    '2015': 81,
    '2030': 82,
    '2045': 83,
    '2100': 84,
    '2115': 85,
    '2130': 86,
    '2145': 87,
    '2200': 88,
    '2215': 89,
    '2230': 90,
    '2245': 91,
    '2300': 92,
    '2315': 93,
    '2330': 94,
    '2345': 95
  }

 export const timeTableInverse = {
    '0': 0,
    '1': 15,
    '2': 30,
    '3': 45,
    '4': 100,
    '5': 115,
    '6': 130,
    '7': 145,
    '8': 200,
    '9': 215,
    '10': 230,
    '11': 245,
    '12': 300,
    '13': 315,
    '14': 330,
    '15': 345,
    '16': 400,
    '17': 415,
    '18': 430,
    '19': 445,
    '20': 500,
    '21': 515,
    '22': 530,
    '23': 545,
    '24': 600,
    '25': 615,
    '26': 630,
    '27': 645,
    '28': 700,
    '29': 715,
    '30': 730,
    '31': 745,
    '32': 800,
    '33': 815,
    '34': 830,
    '35': 845,
    '36': 900,
    '37': 915,
    '38': 930,
    '39': 945,
    '40': 1000,
    '41': 1015,
    '42': 1030,
    '43': 1045,
    '44': 1100,
    '45': 1115,
    '46': 1130,
    '47': 1145,
    '48': 1200,
    '49': 1215,
    '50': 1230,
    '51': 1245,
    '52': 1300,
    '53': 1315,
    '54': 1330,
    '55': 1345,
    '56': 1400,
    '57': 1415,
    '58': 1430,
    '59': 1445,
    '60': 1500,
    '61': 1515,
    '62': 1530,
    '63': 1545,
    '64': 1600,
    '65': 1615,
    '66': 1630,
    '67': 1645,
    '68': 1700,
    '69': 1715,
    '70': 1730,
    '71': 1745,
    '72': 1800,
    '73': 1815,
    '74': 1830,
    '75': 1845,
    '76': 1900,
    '77': 1915,
    '78': 1930,
    '79': 1945,
    '80': 2000,
    '81': 2015,
    '82': 2030,
    '83': 2045,
    '84': 2100,
    '85': 2115,
    '86': 2130,
    '87': 2145,
    '88': 2200,
    '89': 2215,
    '90': 2230,
    '91': 2245,
    '92': 2300,
    '93': 2315,
    '94': 2330,
    '95': 2345
  }
// checks for an open seat
// day = YYYY-MM-DD format - not passed
// time = block number
// length = number of blocks (rounded up)
// appointments = array of already scheduled appointments for the day
//   in DB format, must convert to blocks
// open = first block number of the day
// close = first block after day ends
// seats = number of seats available from Hours model


export const isTimeAvailable = ( time, length, appointments, open, close, seats ) => {
    if (time+length > close || time < open) return(false)


    for (let i=time; i<time+length; i++) {
        let conflicts = 0
        for (const appointment of appointments) {
            if (appointment.time<=i && appointment.time+appointment.length>i) {
                conflicts = conflicts+1
            }
        }
//        console.log(conflicts)
        if ( conflicts >= seats) return false
    }
    return true
}